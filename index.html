<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>vue简易留言板</title>
		<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">	
	</head>


	<body>
		<div class="container" id="box">
			<h2 class="text-info text-center">添加留言</h2>
			<form role='form'>
				<div class="form-group">
					<label for="username">用户名:</label>
					<input type="text" id="username" placeholder="输入用户名" v-model="userName" class="form-control"/>
				</div>
				<div class="form-group">
					<label for="age">年龄:</label>
					<input type="text" id="age" placeholder="输入年龄" v-model="age" class="form-control"/>
				</div>
				<div class="form-group">
					<input type="button" class="btn btn-primary" @click="add()" value="添加"/>
					<input type="reset" class="btn btn-danger"  value="重置"/>
				</div>
			</form>
			<hr />
			
			<table class="table table-border table-hover">
				<caption class="h2 text-info text-center">留言列表</caption>
				<tr>
					<th class="text-center">序号</th>
					<th class="text-center">名字</th>
					<th class="text-center">年龄</th>
					<th class="text-center">操作</th>
				</tr>
				<tr class="text-center" v-for="(item,$index) in myData">
					<td>{{$index+1}}</td>
					<td>{{item.name}}</td>
					<td>{{item.age}}</td>
					<td>
						<button class="btn btn-sm btn-danger" @click="deleteClick($index)" data-toggle='modal' data-target="#layer">删除</button>
					</td>
				</tr>
				<tr v-show="myData.length!=0">
					<td colspan='4'>
						<button class="btn btn-sm btn-danger pull-right" @click="deleteAllClick()" data-toggle='modal' data-target="#layer">删除全部</button>
					</td>
				</tr>
				<tr>
					<td colspan='4' v-show="myData.length==0"> 
						<p class="text-center text-info">暂无数据</p>
					</td>
				</tr>
			</table>
			
			<div role='dialog' class="modal fade" id="layer" >
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss='modal'>
								<span>&times;</span>
							</button>
							<h4 class="modal-title">{{title}}</h4>
						</div>
						<div class="modal-body text-right">
							<button class="btn btn-primary" data-dismiss='modal'>取消</button>
							<button class="btn btn-danger" @click="deleteItem(nowIndex)" data-dismiss='modal'>确认</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdn.bootcss.com/jquery/3.2.0/jquery.min.js"></script>
		<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://cdn.bootcss.com/vue/2.4.2/vue.min.js"></script>
		<script src="main.js"></script>
	</body>
</html>
